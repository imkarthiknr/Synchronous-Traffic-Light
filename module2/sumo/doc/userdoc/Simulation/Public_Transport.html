<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <!-- Facebook OpenGraph -->
        <meta property="og:image" content="../images/image-facebook.jpg">
        <meta property="og:image:type" content="image/jpeg">
        <meta property="og:image:width" content="1080">
        <meta property="og:image:height" content="1080">

        
        
        <link rel="canonical" href="https://sumo.dlr.de/docs/Simulation/Public_Transport.html">
        <link rel="shortcut icon" href="../favicon.ico">
        
        <title>Simulation/Public Transport - SUMO Documentation</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="apple-touch-icon" href="../images/apple-touch-icon.png">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="../extra.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body style="background:#f6f6f6;">

        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary text-center">
            <div class="container-fluid">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../index.html" class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../SUMO_User_Documentation.html" class="nav-link">Documentation</a>
                            </li>
                            <li class="navitem">
                                <a href="../Downloads.html" class="nav-link">Downloads</a>
                            </li>
                            <li class="navitem">
                                <a href="../FAQ.html" class="nav-link">FAQ</a>
                            </li>
                            <li class="navitem">
                                <a href="../Contact.html" class="nav-link">Contact</a>
                            </li>
                            <li class="navitem">
                                <a href="../ChangeLog.html" class="nav-link">ChangeLog</a>
                            </li>
                            <li class="navitem">
                                <a href="../Developer/Main.html" class="nav-link">Developer</a>
                            </li>
                            <li class="navitem">
                                <a href="https://github.com/eclipse/sumo/commits/master/docs/web" class="nav-link">Recent Changes</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> <u>S</u>earch
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="edit" href="https://github.com/eclipse/sumo/edit/master/docs/web/docs/Simulation/Public_Transport.md" class="nav-link"><i class="fa fa-github"></i> <u>E</u>dit on GitHub</a>
                            </li>
                      <li class="nav-item dropdown">
                          <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                              <i class="fa fa-chevron-circle-down"></i> More
                          </a>
                          <div class="dropdown-menu dropdown-menu-right">
                            <a class="dropdown-item no-arrow-link" href="https://sumo.dlr.de/sumo_documentation.zip">Download the Documentation</a>
                          </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container-fluid">
            <div class="row">
                    <div class="col-md-3">
                        <div class="text-center"><a href="../index.html" style="display: inline-block; margin-top: 5px;"><img src="../images/sumo-logo.png" class="sumoLogo" alt="SUMO Logo" width="120px"></a></div>
                      
<div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary toc-scroll" style="background-color: #f6f6f6 !important;">
        <ul class="nav flex-column bs-sidenav">
            <p style="margin-top:5px; color:#777777;" class="text-center">Contents</p>
            <li class="nav-item main"><a href="#bus_stops">Bus Stops</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#access_lanes" class="nav-link">• Access Lanes</a>
                </li>
            <li class="nav-item main"><a href="#letting_vehicles_stop_at_a_bus_stop">Letting Vehicles stop at a bus stop</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#incomplete_route_definition" class="nav-link">• Incomplete Route Definition</a>
                </li>
            <li class="nav-item main"><a href="#stopping_without_defining_a_bus_stop">Stopping without defining a bus stop</a></li>
            <li class="nav-item main"><a href="#passengers">Passengers</a></li>
            <li class="nav-item main"><a href="#importing_public_transport">Importing Public Transport</a></li>
        </ul>
    </div>
</div>
                      </div>
                    <div class="col-md-9" role="main" style="background:white; padding:20px; border-radius:8px; margin-top:5px;">
                        
                            
                            <hTitles>Simulation/Public Transport<hr style="border: 0.5px solid #338033; margin-top: 5px !important;"></hTitles>
                            
                        

<h1 id="bus_stops">Bus Stops<a class="headerlink" href="#bus_stops" title="Permanent link">#</a></h1>
<p>It is possible to define positions of bus stops and let vehicles
("busses") stop at these positions for a pre-given time. Definitions of
bus stop locations in SUMO have the following format: <code>&lt;busStop id="&lt;BUS_STOP_ID&gt;" lane="&lt;LANE_ID&gt;" startPos="&lt;STARTING_POSITION&gt;" endPos="&lt;ENDING_POSITION&gt;" [lines="&lt;LINE_ID&gt;[ &lt;LINE_ID&gt;]*"]/&gt;</code>. That means that a bus
stop is an area on a lane. The parameters have the following meanings:</p>
<table>
<thead>
<tr>
<th>Attribute Name</th>
<th>Value Type</th>
<th>Value Range</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>id</strong></td>
<td>string</td>
<td>id</td>
<td></td>
<td>The ID of the bus stop; must be unique</td>
</tr>
<tr>
<td><strong>lane</strong></td>
<td>string</td>
<td>valid lane id</td>
<td></td>
<td>The name of the lane the bus stop shall be located at</td>
</tr>
<tr>
<td>startPos</td>
<td>float</td>
<td>-lane.length &lt; x &lt; lane.length (negative values count backwards from the end of the lane)</td>
<td>0</td>
<td>The begin position on the lane (the lower position on the lane) in meters</td>
</tr>
<tr>
<td>endPos</td>
<td>float</td>
<td>-lane.length &lt; x &lt; lane.length (negative values count backwards from the end of the lane)</td>
<td>lane.length</td>
<td>The end position on the lane (the higher position on the lane) in meters, must be larger than <em>startPos</em> by more than 0.1m</td>
</tr>
<tr>
<td>friendlyPos</td>
<td>bool</td>
<td><em>true,false</em></td>
<td><em>false</em></td>
<td>whether invalid stop positions should be corrected automatically (default <em>false</em>)</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>simple String</td>
<td></td>
<td>Bus stop name. This is only used for visualization purposes.</td>
</tr>
<tr>
<td>lines</td>
<td>string list</td>
<td>A list of names separated by spaces (' ')</td>
<td></td>
<td>meant to be the names of the bus lines that stop at this bus stop. This is only used for visualization purposes.</td>
</tr>
</tbody>
</table>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Please note that bus stops must be added to a config via the <em>--additional-files</em> parameter (see <a href="/docs/SUMO.html#format_of_additional_files"><em>additional-file</em></a>).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The alias <code>&lt;trainStop&gt;</code> may be used anywhere instead of <code>&lt;busStop&gt;</code> and has the exact same functionality.</p>
</div>
<h2 id="access_lanes">Access Lanes<a class="headerlink" href="#access_lanes" title="Permanent link">#</a></h2>
<p>Each named  may have additional child elements to model access from
other parts of the network (i.e. road access to a stop on the rail
network. This takes the following form:</p>
<pre><code>&lt;busStop id=&quot;myStop&quot; lane=&quot;A_0&quot; startPos=&quot;230&quot; endPos=&quot;250&quot;&gt;
   &lt;access lane=&quot;B_0&quot; pos=&quot;150&quot;/&gt;
&lt;/busStop&gt;
</code></pre>

<p>Access information is added automatically for railway stops when
<a href="../Tutorials/PT_from_OpenStreetMap.html#initial_network_and_public_transit_information_extraction">importing public transport information from
OSM</a></p>
<table>
<thead>
<tr>
<th>Attribute Name</th>
<th>Value Type</th>
<th>Value Range</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>lane</strong></td>
<td>string</td>
<td>id</td>
<td>The name of the lane from which this stop may also be accessed</td>
</tr>
<tr>
<td><strong>pos</strong></td>
<td>float</td>
<td>position along lane</td>
<td>The position along the lane from which the stop is reached</td>
</tr>
</tbody>
</table>
<h1 id="letting_vehicles_stop_at_a_bus_stop">Letting Vehicles stop at a bus stop<a class="headerlink" href="#letting_vehicles_stop_at_a_bus_stop" title="Permanent link">#</a></h1>
<p>Vehicles must be informed that they must stop at a bus stop. The
following example shows how this can be done (taken from <strong><em>&lt;SUMO_HOME&gt;</em></strong><em>/examples/sumo/busses</em>):</p>
<pre><code>&lt;additional xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;http://sumo.dlr.de/xsd/additional_file.xsd&quot;&gt;
    &lt;busStop id=&quot;busstop1&quot; lane=&quot;2/1to1/1_0&quot; startPos=&quot;20&quot; endPos=&quot;40&quot; lines=&quot;100 101 102&quot;/&gt;
    &lt;busStop id=&quot;busstop2&quot; lane=&quot;1/2to0/2_0&quot; startPos=&quot;20&quot; endPos=&quot;40&quot; lines=&quot;100 101&quot;/&gt;
    &lt;busStop id=&quot;busstop3&quot; lane=&quot;0/1to0/0_0&quot; startPos=&quot;20&quot; endPos=&quot;40&quot; lines=&quot;100 101 102&quot;/&gt;
    &lt;busStop id=&quot;busstop4&quot; lane=&quot;1/0to2/0_0&quot; startPos=&quot;20&quot; endPos=&quot;40&quot; lines=&quot;100 101&quot;/&gt;

    &lt;vType id=&quot;BUS&quot; accel=&quot;2.6&quot; decel=&quot;4.5&quot; sigma=&quot;0&quot; length=&quot;12&quot; minGap=&quot;3&quot; maxSpeed=&quot;70&quot; color=&quot;1,1,0&quot; guiShape=&quot;bus&quot;/&gt;

    &lt;vehicle id=&quot;0&quot; type=&quot;BUS&quot; depart=&quot;0&quot; color=&quot;1,1,0&quot;&gt;
        &lt;route edges=&quot;2/0to2/1 2/1to1/1 1/1to1/2 1/2to0/2 0/2to0/1 0/1to0/0 0/0to1/0 1/0to2/0 2/0to2/1&quot;/&gt;
        &lt;stop busStop=&quot;busstop1&quot; duration=&quot;20&quot;/&gt;
        &lt;stop busStop=&quot;busstop2&quot; duration=&quot;20&quot;/&gt;
        &lt;stop busStop=&quot;busstop3&quot; duration=&quot;20&quot;/&gt;
        &lt;stop busStop=&quot;busstop4&quot; duration=&quot;20&quot;/&gt;
    &lt;/vehicle&gt;
&lt;/additional&gt;
</code></pre>

<p>What is defined here is a vehicle named "0" being a "BUS". "BUS" is a
referenced type declared earlier. The vehicle has an embedded route
(written by hand in this case) and a list of stop places. Each stop
place is described by two attributes, "bus_stop" and "duration" where
"bus_stop" is the name of the bus stop the vehicle shall halt at and
"duration" is the time the vehicle shall wait at the bus stop in
seconds. Please note that the order of bus stops the vehicle shall halt
at must be correct.</p>
<p>For a complete list of attributes for the "stop"-element of a vehicle
see
<a href="../Definition_of_Vehicles,_Vehicle_Types,_and_Routes.html#stops">Definition_of_Vehicles,_Vehicle_Types,_and_Routes#Stops</a>.</p>
<h2 id="incomplete_route_definition">Incomplete Route Definition<a class="headerlink" href="#incomplete_route_definition" title="Permanent link">#</a></h2>
<p>It is also possible to define a bus route without defining all
intermediate edges:</p>
<pre><code>   &lt;trip id=&quot;0&quot; type=&quot;BUS&quot; depart=&quot;0&quot; color=&quot;1,1,0&quot; from=&quot;2/0to2/1&quot; to=&quot;2/0to2/1&quot;&gt;
       &lt;stop busStop=&quot;busstop1&quot; duration=&quot;20&quot;/&gt;
       &lt;stop busStop=&quot;busstop2&quot; duration=&quot;20&quot;/&gt;
       &lt;stop busStop=&quot;busstop3&quot; duration=&quot;20&quot;/&gt;
       &lt;stop busStop=&quot;busstop4&quot; duration=&quot;20&quot;/&gt;
   &lt;/trip&gt;
</code></pre>

<p>The vehicle will take the fastest path between <em>from</em>-edge and <em>to</em>-edge
that visits all stops in their correct order.</p>
<h1 id="stopping_without_defining_a_bus_stop">Stopping without defining a bus stop<a class="headerlink" href="#stopping_without_defining_a_bus_stop" title="Permanent link">#</a></h1>
<p>You may also let a vehicle stop at another position than a bus stop. The
short definition of a vehicle's stop is: <code>&lt;stop bus_stop="&lt;BUS_STOP_ID&gt;" | ( lane="&lt;LANE_ID&gt;" endPos="&lt;POSITION_AT_LANE&gt;" ) duration="&lt;HALTING_DURATION&gt;"/&gt;</code>.
This means you can either use a bus stop or a lane position to define
where a vehicle has to stop. For a complete list of attributes for the
"stop"-element of a vehicle see
<a href="../Definition_of_Vehicles,_Vehicle_Types,_and_Routes.html#stops">Definition_of_Vehicles,_Vehicle_Types,_and_Routes#Stops</a>.</p>
<h1 id="passengers">Passengers<a class="headerlink" href="#passengers" title="Permanent link">#</a></h1>
<p><a href="../Specification/Persons.html#rides">Additional definitions are necessary if the persons using the public
transport lines shall be modeled as
well</a>.</p>
<p>To make use of <a href="../IntermodalRouting.html">intermodal routing, additional constrains on public
transport definition must be met.</a></p>
<h1 id="importing_public_transport">Importing Public Transport<a class="headerlink" href="#importing_public_transport" title="Permanent link">#</a></h1>
<p>The <a href="../Tutorials/OSMWebWizard.html">osmWebWizard tool</a> can be used
to import public transport data from OpenStreetMap for a selected area.</p>
<p>This import uses an intermediate data format to describe public
transport lines. The usage of this line data is explained at
<a href="../Tutorials/PT_from_OpenStreetMap.html">Tutorials/PT_from_OpenStreetMap</a></p>
                        
                        
                        </div>
            </div>
            
            <button onclick="goTopFunction()" id="goToTop" title="Go to top"><i class="fa fa-arrow-up"></i></button>

        </div>

        <footer class="col-md-12">
          
        <br><small><i>This page was last edited on: 02 September 2019</i></small>
    
            <hr>
                <p>Copyright &copy; 2001 - 2020 German Aerospace Center (DLR) and others.</p>
            <p>Follow us on <a class="no-arrow-link" href="https://www.twitter.com/eclipsesumo/"><i class="fa fa-twitter"></i></a> <a class="no-arrow-link" href="https://www.facebook.com/simulationofurbanmobility/"><i class="fa fa-facebook-square"></i></a>
            | Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    Enter your search terms below.
                </p>
                    <script async src="https://cse.google.com/cse.js?cx=004302551366764109984:1kpgtzrm6kv"></script>
                    <div class="gcse-search"></div>
            </div>
        </div>
    </div>
</div>
      <script>
        window.onscroll = function() {scrollFunction()};
        
        function scrollFunction() {
          if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("goToTop").style.display = "block";
          } else {
            document.getElementById("goToTop").style.display = "none";
          }
        }
    
        function goTopFunction() {
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
        }
        </script>

        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "search": 83, "edit": 69};
        </script>
        <script src="../js/base.js" defer></script>

        <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Key</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                  <tr>
                    <td class="edit shortcut"><kbd>e</kbd></td>
                    <td>Edit on GiHub</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>
</html>
